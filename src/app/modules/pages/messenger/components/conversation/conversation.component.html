<div class="conversation-container card relative">
    <div class="flex flex-col h-full">
        <div class="conversation-top flex items-center justify-between top-4">
            <div class="conversation-info flex items-center m-3">
                <div class="conversation-avatar">
                    <!-- <img src="../../../../../../assets/san-marco.jpg" alt="user-avatar" class="avatar-medium"> -->
                    <app-user-avatar avatar="../../../../../../assets/san-marco.jpg"></app-user-avatar>
                </div>
                <div class="conversation-info flex flex-col ml-3">
                    <span>Leslie Alexander</span>
                    <span>Active now</span>
                </div>
            </div>
            <div class="conversation-options flex items-center">
                <mat-icon class="mr-3">close</mat-icon>
            
                <mat-icon class="mr-3">close</mat-icon>
            
                <mat-icon class="mr-3">close</mat-icon>
            </div>
        </div>

        <div class="message-container flex flex-col-reverse overflow-y-scroll m-3 pr-2 grow">
            <ng-container *ngFor="let message of messages.reverse()">
                <app-message [messages]="messages" [message]="message"></app-message>
            </ng-container>
        </div>

        <div class="conversation-chat w-full" style="position: relative;">
            <div class="mb-3 mt-1 flex items-center px-3">
                <mat-icon class="mr-3">close</mat-icon>
                <mat-icon class="mr-3">add_to_photos</mat-icon>
                <mat-icon class="mr-3" (click)="file.click()">attach_file</mat-icon>
                <input 
                    type="file" 
                    #file name="attachment" 
                    hidden="true" 
                    multiple="true" 
                    [accept]="accept"
                    (change)="onFileSelected($event)"
                >

                <mat-icon class="mr-3" (click)="toggleEmojiPicker()">sentiment_satisfied_alt</mat-icon>

                <div *ngIf="showEmojiPicker" class="emoji-picker-container">
                    <emoji-mart (emojiClick)="addEmoji($event)"></emoji-mart>
                    <mat-icon class="emoji-close" (click)="toggleEmojiPicker()">close</mat-icon>
                </div>

                <mat-icon class="mr-3">gif</mat-icon>
                <div class="conversation-input grow mr-3">
                    <form>
                        <mat-form-field appearance="outline" class="w-full">
                            <input matInput [(ngModel)]="inputContent" type="text" placeholder="Aa">
                            <mat-icon matSuffix>sentiment_satisfied_alt</mat-icon>
                        </mat-form-field>
                    </form>
                </div>
                <mat-icon (click)="sendMessage()">{{showSendButton ? 'send' : 'thumb_up'}}</mat-icon>
            </div>
        </div>
    </div>
</div>

